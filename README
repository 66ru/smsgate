Требования
==========

Django >= 1.3
django-celery
django-kombu
south

Установка
=========

$ git clone git://github.com/mediasite/smsgate.git sms

$ cd sms
$ python manage.py syncdb
$ python manage.py migrate djcelery
$ python manage.py migrate smsgate

Обязательными являются следующие строки в settings.py:

AUTH_PROFILE_MODULE = 'smsgate.Partner'

AUTHENTICATION_BACKENDS = (
    'smsgate.auth.backends.PartnerTokenBackend',
    'django.contrib.auth.backends.ModelBackend',)

SMSGATE_GATES_ENABLED = (
    'smsgate.gates.websms',
    'smsgate.gates.test_gate',
)


* а также smsgate в INSTALLED_APPS


Конфигурация
============

1. Добавить гейт.

2. В config внести концигурационный файл в сооответствующем формате. Пример для websms:

[Provider]
http_username=1
http_password=1

3. Добавить партнера.

4. Привязать к нему гейт
 4а. Настроить диапазоны ip-адресов


* Если есть какие-то особые настройки, рекомендуется их вносить в файл settings_local.py
(можно создать в корне)

Запуск обработчика очереди sms
============
Изменить в runcelery.sh строки:
source /path/to/env/bin/activate # На путь к virtualenv проекта
cd /path/to/app/ # На путь к проекту

Запустить скрипт:
$ ./runcelery.sh
